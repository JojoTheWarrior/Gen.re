<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>CodePen - Web MIDI API keyboard and looper</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
<link rel="stylesheet" href="./style.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
<script src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.23.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.4.0"></script>

</head>
<body>

<main>

  <midi-visualizer type="piano-roll" id="myPianoRollVisualizer" src="medium.mid"></midi-visualizer>



  <ul class="keyboard" id="keyboard">

    <li class="keyboard__note" id="key1" style = "z-index: 1" onmousedown="play(1)" onmouseup="play(1, 0)" ontouchstart="play(1)" ontouchend="play(1, 0)">1</li>
    <li class="keyboard__note" id="key2" style = "z-index: 1" onmousedown="play(2)" onmouseup="play(2, 0)" ontouchstart="play(2)" ontouchend="play(2, 0)">2</li>
    <li class="keyboard__note" id="key3" style = "z-index: 1"onmousedown="play(3)" onmouseup="play(3, 0)" ontouchstart="play(3)" ontouchend="play(3, 0)">3</li>
    <li class="keyboard__note" id="key4" style = "z-index: 1"onmousedown="play(4)" onmouseup="play(4, 0)" ontouchstart="play(4)" ontouchend="play(4, 0)">4</li>
    <li class="keyboard__note" id="key5" style = "z-index: 1"onmousedown="play(5)" onmouseup="play(5, 0)" ontouchstart="play(5)" ontouchend="play(5, 0)">5</li>
    <li class="keyboard__note" id="key6" style = "z-index: 1"onmousedown="play(6)" onmouseup="play(6, 0)" ontouchstart="play(6)" ontouchend="play(6, 0)">6</li>
    <li class="keyboard__note" id="key7" style = "z-index: 1"onmousedown="play(7)" onmouseup="play(7, 0)" ontouchstart="play(7)" ontouchend="play(7, 0)">7</li>
    <li class="keyboard__note" id="key8" style = "z-index: 1"onmousedown="play(8)" onmouseup="play(8, 0)" ontouchstart="play(8)" ontouchend="play(8, 0)">8</li>
    <li class="keyboard__note" id="key9" style = "z-index: 1"onmousedown="play(9)" onmouseup="play(9, 0)" ontouchstart="play(9)" ontouchend="play(9, 0)">9</li>
    <li class="keyboard__note" id="key10" style = "z-index: 1"onmousedown="play(10)" onmouseup="play(10, 0)" ontouchstart="play(10)" ontouchend="play(10, 0)">10</li>
    <li class="keyboard__note" id="key11" style = "z-index: 1"onmousedown="play(11)" onmouseup="play(11, 0)" ontouchstart="play(11)" ontouchend="play(11, 0)">11</li>
    <li class="keyboard__note" id="key12" style = "z-index: 1"onmousedown="play(12)" onmouseup="play(12, 0)" ontouchstart="play(12)" ontouchend="play(12, 0)">12</li>
    <li class="keyboard__note" id="key13" style = "z-index: 1"onmousedown="play(13)" onmouseup="play(13, 0)" ontouchstart="play(13)" ontouchend="play(13, 0)">13</li>
    <li class="keyboard__note" id="key14" style = "z-index: 1"onmousedown="play(14)" onmouseup="play(14, 0)" ontouchstart="play(14)" ontouchend="play(14, 0)">14</li>
    <li class="keyboard__note" id="key15" style = "z-index: 1"onmousedown="play(15)" onmouseup="play(15, 0)" ontouchstart="play(15)" ontouchend="play(15, 0)">15</li>
    <li class="keyboard__note" id="key16" style = "z-index: 1"onmousedown="play(16)" onmouseup="play(16, 0)" ontouchstart="play(16)" ontouchend="play(16, 0)">16</li>
    <li class="keyboard__note" id="key17" style = "z-index: 1"onmousedown="play(17)" onmouseup="play(17, 0)" ontouchstart="play(17)" ontouchend="play(17, 0)">17</li>
    <li class="keyboard__note" id="key18" style = "z-index: 1"onmousedown="play(18)" onmouseup="play(18, 0)" ontouchstart="play(18)" ontouchend="play(18, 0)">18</li>
    <li class="keyboard__note" id="key19" style = "z-index: -23"onmousedown="play(19)" onmouseup="play(19, 0)" ontouchstart="play(19)" ontouchend="play(19, 0)">19</li>
    <li class="keyboard__note" id="key20" style = "z-index: -10"onmousedown="play(20)" onmouseup="play(20, 0)" ontouchstart="play(20)" ontouchend="play(20, 0)">20</li>
    <li class="keyboard__note" id="key21" style = "z-index: -22"onmousedown="play(21)" onmouseup="play(21, 0)" ontouchstart="play(21)" ontouchend="play(21, 0)">21</li>
    <li class="keyboard__note" id="key22" style = "z-index: 10"onmousedown="play(22)" onmouseup="play(22, 0)" ontouchstart="play(22)" ontouchend="play(22, 0)">22</li>
    <li class="keyboard__note" id="key23" style = "z-index: -20"onmousedown="play(23)" onmouseup="play(23, 0)" ontouchstart="play(23)" ontouchend="play(23, 0)">23</li>
    <li class="keyboard__note" id="key24" style = "z-index: 10"onmousedown="play(24)" onmouseup="play(24, 0)" ontouchstart="play(24)" ontouchend="play(24, 0)">24</li>
    <li class="keyboard__note" id="key25" style = "z-index: -19"onmousedown="play(25)" onmouseup="play(25, 0)" ontouchstart="play(25)" ontouchend="play(25, 0)">25</li>
    <li class="keyboard__note" id="key26" style = "z-index: 10"onmousedown="play(26)" onmouseup="play(26, 0)" ontouchstart="play(26)" ontouchend="play(26, 0)">26</li>
    <li class="keyboard__note" id="key27" style = "z-index: -18"onmousedown="play(27)" onmouseup="play(27, 0)" ontouchstart="play(27)" ontouchend="play(27, 0)">27</li>
    <li class="keyboard__note" id="key28" style = "z-index: -17"onmousedown="play(28)" onmouseup="play(28, 0)" ontouchstart="play(28)" ontouchend="play(28, 0)">28</li>
    <li class="keyboard__note" id="key29" style = "z-index: 10"onmousedown="play(29)" onmouseup="play(29, 0)" ontouchstart="play(29)" ontouchend="play(29, 0)">29</li>
    <li class="keyboard__note" id="key30" style = "z-index: -16"onmousedown="play(30)" onmouseup="play(30, 0)" ontouchstart="play(30)" ontouchend="play(30, 0)">30</li>
    <li class="keyboard__note" id="key31" style = "z-index: 10"onmousedown="play(31)" onmouseup="play(31, 0)" ontouchstart="play(31)" ontouchend="play(31, 0)">31</li>
    <li class="keyboard__note" id="key32" style = "z-index: -15"onmousedown="play(32)" onmouseup="play(32, 0)" ontouchstart="play(32)" ontouchend="play(32, 0)">32</li>
    <li class="keyboard__note" id="key33" style = "z-index: -14"onmousedown="play(33)" onmouseup="play(33, 0)" ontouchstart="play(33)" ontouchend="play(33, 0)">33</li>
    <li class="keyboard__note" id="key34" style = "z-index: 10"onmousedown="play(34)" onmouseup="play(34, 0)" ontouchstart="play(34)" ontouchend="play(34, 0)">34</li>
    <li class="keyboard__note" id="key35" style = "z-index: -13"onmousedown="play(35)" onmouseup="play(35, 0)" ontouchstart="play(35)" ontouchend="play(35, 0)">35</li>
    <li class="keyboard__note" id="key36" style = "z-index: 10"onmousedown="play(36)" onmouseup="play(36, 0)" ontouchstart="play(36)" ontouchend="play(36, 0)">36</li>
    <li class="keyboard__note" id="key37" style = "z-index: -12"onmousedown="play(37)" onmouseup="play(37, 0)" ontouchstart="play(37)" ontouchend="play(37, 0)">37</li>
    <li class="keyboard__note" id="key38" style = "z-index: 10"onmousedown="play(38)" onmouseup="play(38, 0)" ontouchstart="play(38)" ontouchend="play(38, 0)">38</li>
    <li class="keyboard__note" id="key39" style = "z-index: -11"onmousedown="play(39)" onmouseup="play(39, 0)" ontouchstart="play(39)" ontouchend="play(39, 0)">39</li>
    <li class="keyboard__note" id="key40" style = "z-index: -10"onmousedown="play(40)" onmouseup="play(40, 0)" ontouchstart="play(40)" ontouchend="play(40, 0)">40</li>
    <li class="keyboard__note" id="key41" style = "z-index: 10"onmousedown="play(41)" onmouseup="play(41, 0)" ontouchstart="play(41)" ontouchend="play(41, 0)">41</li>
    <li class="keyboard__note" id="key42" style = "z-index: -9"onmousedown="play(42)" onmouseup="play(42, 0)" ontouchstart="play(42)" ontouchend="play(42, 0)">42</li>
    <li class="keyboard__note" id="key43" style = "z-index: 10"onmousedown="play(43)" onmouseup="play(43, 0)" ontouchstart="play(43)" ontouchend="play(43, 0)">43</li>
    <li class="keyboard__note" id="key44" style = "z-index: -8"onmousedown="play(44)" onmouseup="play(44, 0)" ontouchstart="play(44)" ontouchend="play(44, 0)">44</li>
    <li class="keyboard__note" id="key45" style = "z-index: -7"onmousedown="play(45)" onmouseup="play(45, 0)" ontouchstart="play(45)" ontouchend="play(45, 0)">45</li>
    <li class="keyboard__note" id="key46" style = "z-index: 10"onmousedown="play(46)" onmouseup="play(46, 0)" ontouchstart="play(46)" ontouchend="play(46, 0)">46</li>
    <li class="keyboard__note" id="key47" style = "z-index: -6"onmousedown="play(47)" onmouseup="play(47, 0)" ontouchstart="play(47)" ontouchend="play(47, 0)">47</li>
    <li class="keyboard__note" id="key48" style = "z-index: 10"onmousedown="play(48)" onmouseup="play(48, 0)" ontouchstart="play(48)" ontouchend="play(48, 0)">48</li>
    <li class="keyboard__note" id="key49" style = "z-index: -5"onmousedown="play(49)" onmouseup="play(49, 0)" ontouchstart="play(49)" ontouchend="play(49, 0)">49</li>
    <li class="keyboard__note" id="key50" style = "z-index: 10"onmousedown="play(50)" onmouseup="play(50, 0)" ontouchstart="play(50)" ontouchend="play(50, 0)">50</li>
    <li class="keyboard__note" id="key51" style = "z-index: -4"onmousedown="play(51)" onmouseup="play(51, 0)" ontouchstart="play(51)" ontouchend="play(51, 0)">51</li>
    <li class="keyboard__note" id="key52" style = "z-index: -3"onmousedown="play(52)" onmouseup="play(52, 0)" ontouchstart="play(52)" ontouchend="play(52, 0)">52</li>
    <li class="keyboard__note" id="key53" style = "z-index: 10"onmousedown="play(53)" onmouseup="play(53, 0)" ontouchstart="play(53)" ontouchend="play(53, 0)">53</li>
    <li class="keyboard__note" id="key54" style = "z-index: -2"onmousedown="play(54)" onmouseup="play(54, 0)" ontouchstart="play(54)" ontouchend="play(54, 0)">54</li>
    <li class="keyboard__note" id="key55" style = "z-index: 10"onmousedown="play(55)" onmouseup="play(55, 0)" ontouchstart="play(55)" ontouchend="play(55, 0)">55</li>
    <li class="keyboard__note" id="key56" style = "z-index: -1"onmousedown="play(56)" onmouseup="play(56, 0)" ontouchstart="play(56)" ontouchend="play(56, 0)">56</li>
    <li class="keyboard__note" id="key57" style = "z-index: 1"onmousedown="play(57)" onmouseup="play(57, 0)" ontouchstart="play(57)" ontouchend="play(57, 0)">57</li>
    <li class="keyboard__note" id="key58" style = "z-index: 10"onmousedown="play(58)" onmouseup="play(58, 0)" ontouchstart="play(58)" ontouchend="play(58, 0)">58</li>
    <li class="keyboard__note" id="key59" style = "z-index: 2"onmousedown="play(59)" onmouseup="play(59, 0)" ontouchstart="play(59)" ontouchend="play(59, 0)">59</li>
    <li class="keyboard__note" id="key60" style = "z-index: 10"onmousedown="play(60)" onmouseup="play(60, 0)" ontouchstart="play(60)" ontouchend="play(60, 0)">60</li>
    <li class="keyboard__note" id="key61" style = "z-index: 3"onmousedown="play(61)" onmouseup="play(61, 0)" ontouchstart="play(61)" ontouchend="play(61, 0)">61</li>
    <li class="keyboard__note" id="key62" style = "z-index: 10"onmousedown="play(62)" onmouseup="play(62, 0)" ontouchstart="play(62)" ontouchend="play(62, 0)">62</li>
    <li class="keyboard__note" id="key63" style = "z-index: 4"onmousedown="play(63)" onmouseup="play(63, 0)" ontouchstart="play(63)" ontouchend="play(63, 0)">63</li>
    <li class="keyboard__note" id="key64" style = "z-index: 5"onmousedown="play(64)" onmouseup="play(64, 0)" ontouchstart="play(64)" ontouchend="play(64, 0)">64</li>
    <li class="keyboard__note" id="key65" style = "z-index: 10"onmousedown="play(65)" onmouseup="play(65, 0)" ontouchstart="play(65)" ontouchend="play(65, 0)">65</li>
    <li class="keyboard__note" id="key66" style = "z-index: 6"onmousedown="play(66)" onmouseup="play(66, 0)" ontouchstart="play(66)" ontouchend="play(66, 0)">66</li>
    <li class="keyboard__note" id="key67" style = "z-index: 10"onmousedown="play(67)" onmouseup="play(67, 0)" ontouchstart="play(67)" ontouchend="play(67, 0)">67</li>
    <li class="keyboard__note" id="key68" style = "z-index: 7"onmousedown="play(68)" onmouseup="play(68, 0)" ontouchstart="play(68)" ontouchend="play(68, 0)">68</li>
    <li class="keyboard__note" id="key69" style = "z-index: 8"onmousedown="play(69)" onmouseup="play(69, 0)" ontouchstart="play(69)" ontouchend="play(69, 0)">69</li>
    <li class="keyboard__note" id="key70" onmousedown="play(70)" onmouseup="play(70, 0)" ontouchstart="play(70)" ontouchend="play(70, 0)">70</li>
    <li class="keyboard__note" id="key71" onmousedown="play(71)" onmouseup="play(71, 0)" ontouchstart="play(71)" ontouchend="play(71, 0)">71</li>
    <li class="keyboard__note" id="key72" onmousedown="play(72)" onmouseup="play(72, 0)" ontouchstart="play(72)" ontouchend="play(72, 0)">72</li>
    <li class="keyboard__note" id="key73" onmousedown="play(73)" onmouseup="play(73, 0)" ontouchstart="play(73)" ontouchend="play(73, 0)">73</li>
    <li class="keyboard__note" id="key74" onmousedown="play(74)" onmouseup="play(74, 0)" ontouchstart="play(74)" ontouchend="play(74, 0)">74</li>
    <li class="keyboard__note" id="key75" onmousedown="play(75)" onmouseup="play(75, 0)" ontouchstart="play(75)" ontouchend="play(75, 0)">75</li>
    <li class="keyboard__note" id="key76" onmousedown="play(76)" onmouseup="play(76, 0)" ontouchstart="play(76)" ontouchend="play(76, 0)">76</li>
    <li class="keyboard__note" id="key77" onmousedown="play(77)" onmouseup="play(77, 0)" ontouchstart="play(77)" ontouchend="play(77, 0)">77</li>
    <li class="keyboard__note" id="key78" onmousedown="play(78)" onmouseup="play(78, 0)" ontouchstart="play(78)" ontouchend="play(78, 0)">78</li>
    <li class="keyboard__note" id="key79" onmousedown="play(79)" onmouseup="play(79, 0)" ontouchstart="play(79)" ontouchend="play(79, 0)">79</li>
    <li class="keyboard__note" id="key80" onmousedown="play(80)" onmouseup="play(80, 0)" ontouchstart="play(80)" ontouchend="play(80, 0)">80</li>
    <li class="keyboard__note" id="key81" onmousedown="play(81)" onmouseup="play(81, 0)" ontouchstart="play(81)" ontouchend="play(81, 0)">81</li>
    <li class="keyboard__note" id="key82" onmousedown="play(82)" onmouseup="play(82, 0)" ontouchstart="play(82)" ontouchend="play(82, 0)">82</li>
    <li class="keyboard__note" id="key83" onmousedown="play(83)" onmouseup="play(83, 0)" ontouchstart="play(83)" ontouchend="play(83, 0)">83</li>
    <li class="keyboard__note" id="key84" onmousedown="play(84)" onmouseup="play(84, 0)" ontouchstart="play(84)" ontouchend="play(84, 0)">84</li>
    <li class="keyboard__note" id="key85" onmousedown="play(85)" onmouseup="play(85, 0)" ontouchstart="play(85)" ontouchend="play(85, 0)">85</li>
    <li class="keyboard__note" id="key86" onmousedown="play(86)" onmouseup="play(86, 0)" ontouchstart="play(86)" ontouchend="play(86, 0)">86</li>
    <li class="keyboard__note" id="key87" onmousedown="play(87)" onmouseup="play(87, 0)" ontouchstart="play(87)" ontouchend="play(87, 0)">87</li>
    <li class="keyboard__note" id="key88" onmousedown="play(88)" onmouseup="play(88, 0)" ontouchstart="play(88)" ontouchend="play(88, 0)">88</li>
    <li class="keyboard__note" id="key89" onmousedown="play(89)" onmouseup="play(89, 0)" ontouchstart="play(89)" ontouchend="play(89, 0)">89</li>
    <li class="keyboard__note" id="key90" onmousedown="play(90)" onmouseup="play(90, 0)" ontouchstart="play(90)" ontouchend="play(90, 0)">90</li>
  </ul>
  <!---->
  <div id ="tape">

    <section class="loops">
      <p id="played"></p>
      <div class="loops__actions">
        <button onclick="record(true)">
          <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <circle cx="50" cy="50" r="30" fill="red"></circle>
          </svg>
        </button>
        <button onclick="record(false)">
          <svg viewBox="64 64 896 896" focusable="false" data-icon="pause" width="2em" height="2em" fill="currentColor" aria-hidden="true">
            <path d="M304 176h80v672h-80zm408 0h-64c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8z"></path>
          </svg>
        </button>
        <button onclick="loop()"> 
          <svg viewBox="64 64 896 896" focusable="false" data-icon="sync" width="2em" height="2em" fill="currentColor" aria-hidden="true">
            <path d="M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"></path>
          </svg>
        </button>
        <button onclick="reset()">
          <svg viewBox="64 64 896 896" focusable="false" data-icon="delete" width="2em" height="2em" fill="currentColor" aria-hidden="true">
            <path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"></path>
          </svg>
        </button>
      </div>
      <midi-player
        id="player"
        src="medium.mid"
        sound-font visualizer="#myPianoRollVisualizer"
        volume="0.5">
      </midi-player>
      
    </section>



    <header class="description">
      <input class="load" id="load" type="file" name="load" accept="mid"/>
      <label id="loadLabel" for="load">Load midi
        <svg viewBox="64 64 896 896" focusable="false" data-icon="upload" width="1em" height="1em" fill="currentColor" aria-hidden="true">
          <path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"></path>
        </svg>
      </label>
      <button id="save">
        <label id="loadLabel" for="load">save
        <svg viewBox="64 64 896 896" focusable="false" data-icon="save" width="2em" height="1em" fill="currentColor" aria-hidden="true">
          <path d="M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"></path>
        </svg>
      </button>
      <div class="dropdown">
        <button class="dropbtn">Geneate AI Lefthand 🧠</button>
        <div class="dropdown-content">
          <a onclick="generateRock()">Rock 🎸</a>
          <a onclick="generateClassical()">Classical 🎹</a>
          <a onclick="generatePop()">Pop 🎤</a>
          <a onclick="generateMetal()">Metal 🤟</a>
          <a onclick="generateJazz()">Jazz 🎷</a>
        </div>
      </div>
    </header>

  </div>
  
  <h3 class="title" id="display">Note:</h3>


</main>






<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.30/Tone.js'></script>
<script src='https://cdn.jsdelivr.net/npm/webmidi/webmidi.min.js'></script>
<script src='https://unpkg.com/@tonejs/midi'></script>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const MIDIPlay = document.getElementById("player");
    const visualizer = document.getElementById("myPianoRollVisualizer");

    if (MIDIPlay && visualizer) {
      MIDIPlay.addEventListener('start', () => {

        visualizer.classList.add('translate-animation');
      });

      MIDIPlay.addEventListener('stop', () => {
        visualizer.classList.remove('translate-animation');

      });
    }
  });
</script>



<script  src="script.js" defer></script>

</body>
</html>
